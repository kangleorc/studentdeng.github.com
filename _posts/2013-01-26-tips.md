---
layout: post
title: "IOS 中的编程小tips"
tags: [IOS, tips, configure]
---
{% include JB/setup %}
<p>
<a href="#A1">ARC 编译时遇到的相关问题</a>
<a href="#A2">install cocoapods 问题</a>
</p>

<a name = "A1" id = "A1"></a>
# ARC 编译时遇到的相关问题

1.  自己的项目没有使用ARC, 其他代码使用ARC
2.  自己项目使用ARC, 其他代码没有使用ARC

在Xcode Build Phases 里面的 Compile Source 需要特殊处理的文件 增加 COmpiler Flags
1. 第一种情况 添加 -fobjc-arc
2. 第二种情况 添加 -fno-objc-arc

<a name = "A2" id = "A2"></a>
# install cocoapods 问题

In Preview of OS X Mountain Lion, Xcode has been distributed as X.app. And Commandline Tools are not installed by default. Commandline Tools contains cc/gcc that you must need to build environment.

Open Xcode and cmd +, to open Preferences panel where you can install Commandline Tools:

![alt text](/images/commandline.jpg)

then
	gem install hpricot
	gem install cocoapods

#Adding Unit Tests to an existing iOS project with Xcode 4

When you build a new iPhone or iPad app from scratch, you can generate a new project with tests using Xcode’s project templates, and the test dependency is set up correctly.

However, if you add a unit test target to an existing iOS project, there are some manual steps required to set up the target correctly. Following these steps will get you up and running quickly:

Project MyExistingApp -> + Add Target -> iOS -> Other -> Cocoa Unit Testing Bundle
Name the new target something like “Unit Tests” or “MyAppTests”
Select your new “Unit Tests” target and click the Build Phases tab, expand Target Dependencies and add MyExistingApp as as a Target Dependency
Click the Build Settings tab and set the Bundle Loader setting to
	$(BUILT_PRODUCTS_DIR)/MyExistingApp.app/MyExistingApp
Set the Test Host build setting to
	$(BUNDLE_LOADER)
Go back to your app target (not the test target), set the Symbols Hidden by Default build setting to NO

That should take care of it, and you can now start adding tests for your app. With this configuration, you continue to add application classes only to your app target, and add test classes only to your test target. Since the tests run in the app running in the simulator, the code under test can safely instantiate views and fonts, which would otherwise cause OCunit to crash when running without the Test Host setting.